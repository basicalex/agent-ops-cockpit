- [2026-02-25 16:22] [2026-02-25 16:23] Completed task 124. Added canonical skill definitions under .pi/skills/*/SKILL.md, updated bin/aoc-skill to resolve source from .pi/skills first (legacy .aoc/skills fallback), simplified sync_agent branching, and made PI self-target a no-op marker write when already canonical. Updated bin/aoc-init with setup_pi_skills seeding (canonical-first, legacy fallback) and reordered init flow to seed .pi before sync. Updated README/docs/skills for PI-first ownership. Validated with bash -n, aoc-skill validate, fresh temp init idempotency, codex sync link target checks, and OmO non-seeding regression script.
- [2026-02-25 16:23] HANDOFF: Objective: PI-first cleanup track (aoc/pi_cleanup) progressed through task 124. Done: task 121 (contract), 122 (init determinism), 123 (prompt canonicalization), 124 (skill canonicalization). In-progress: none. Pending: 125, 126, 127, 128. Files touched: bin/aoc-init, bin/aoc-skill, docs/agents.md, docs/skills.md, README.md, .taskmaster/docs/prds/aoc_pi_cleanup_contract.md, .taskmaster/docs/prds/aoc_pi_cleanup_prd_rpg.md, .pi/skills/*/SKILL.md. Validation: bash -n (aoc-init/aoc-skill), fresh temp repo aoc-init idempotency checks, aoc-skill validate, codex sync link target check, scripts/opencode/test-aoc-init-omo.sh pass. Decisions: canonical runtime ownership .pi/**; .aoc/** remains control-plane; compatibility window keeps legacy fallback reads only. Next steps: (1) Task 125 remove/deprecate non-PI scaffolding/docs from active path. (2) Task 126 add existing-repo migration cleanup rules (legacy aliases/duplicates). (3) Task 127 add smoke tests for fresh/existing init flows. (4) Task 128 finalize migration notes and release checklist; close compatibility window.
