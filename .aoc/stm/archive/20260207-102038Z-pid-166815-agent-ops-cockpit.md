## Objective + Task Context
- Objective: preserve local progress, restore Git metadata for `agent-ops-cockpit`, and checkpoint current Pulse/cleanup work with a WIP commit.
- Active task/subtask IDs: ad-hoc request (no Taskmaster ID linked in this session).
- Tag: `master`.

## Done
- Confirmed repo metadata loss cause: `.git` was removed from project and present in Trash (`~/.local/share/Trash/files/.git`).
- Created safety backup before restore: `/home/ceii/dev/_recovery-20260207-101456Z` (working tree + gitdir copy).
- Restored `.git` into `/home/ceii/dev/agent-ops-cockpit/.git` and validated repo health.
- Verified branch state: `main...origin/main [ahead 3]` before new commit.
- Reviewed unstaged changes and committed all WIP updates as `ebdd8a7` with explicit in-progress note.

## In progress
- Runtime validation for pane-close/orphan cleanup behavior across all agents (not fully tuned yet).
- Performance/UX tuning for Pulse rendering and prune thresholds.
- Decide when to push recovered + new local commits to `origin/main`.

## Blockers / risks
- No end-to-end runtime validation executed yet after latest commit (behavior may still be noisy).
- Current changes are large (UI + lifecycle + hub behavior), so regression surface is high.
- Prune/offline grace thresholds may need adjustment to avoid false offline or stale rows.

## Files touched
- `bin/aoc-agent-wrap`
- `crates/aoc-agent-wrap-rs/src/main.rs`
- `crates/aoc-hub-rs/src/main.rs`
- `crates/aoc-mission-control/src/main.rs`

## Last command outcomes (tests/lint/build)
- `git status -sb` -> clean index; repo active; local branch ahead of remote.
- `git commit` -> success (`ebdd8a7`, 4 files changed, 1547 insertions, 175 deletions).
- `git fetch origin && git rev-list --left-right --count origin/main...main` -> `0 4` (ahead by 4 total now).
- `git fsck --full` -> no corruption; one dangling empty blob reported (non-blocking).
- Tests/lint/build: not run in this handoff window.

## Open decisions / assumptions
- Assumption: backup-first `.git` recovery flow is now the safest default if metadata is accidentally removed.
- Decide whether to split follow-up optimization into smaller commits before push.
- Decide whether to tune watchdog/prune defaults now or after live-session telemetry.
- Promote to aoc-mem: backup-first `.git` recovery procedure (Trash -> backup -> restore -> verify) should be recorded as standard ops guidance.

## Next 3-5 concrete steps
- Run targeted runtime validation: open/close agent panes and confirm orphan cleanup + Pulse presence transitions.
- Run `cargo check` for `aoc-agent-wrap-rs`, `aoc-hub-rs`, and `aoc-mission-control` and fix any issues.
- If stable, push local commits to `origin/main`; if unstable, add one follow-up optimization commit first.
- Add a concise memory entry via `aoc-mem add` for the durable recovery/ops decision.
