default_mode "normal"
simplified_ui false
session_serialization false

plugins {
    about location="zellij:about"
    compact-bar location="zellij:compact-bar"
    configuration location="zellij:configuration"
    filepicker location="zellij:strider" {
        cwd "/"
    }
    plugin-manager location="zellij:plugin-manager"
    session-manager location="zellij:session-manager"
    status-bar location="file:{{HOME}}/.config/zellij/plugins/zjstatus.wasm"
    strider location="zellij:strider"
    tab-bar location="zellij:tab-bar"
    welcome-screen location="zellij:session-manager" {
        welcome_screen true
    }
}

load_plugins {
}

keybinds {
    shared_except "locked" {
        unbind "Alt a";
        bind "Alt c" {
            Run "bash" "-lc" "export PATH=\"$HOME/.local/bin:$HOME/.cargo/bin:$PATH\"; exec aoc-control-toggle" {
                floating true
                close_on_exit true
            };
        }
        bind "Alt s" { NextSwapLayout; }
        bind "Alt i" { GoToPreviousTab; }
        bind "Alt o" { GoToNextTab; }
        bind "Alt u" { MoveTab "Left"; }
        bind "Alt p" { MoveTab "Right"; }
        bind "Alt [" { TogglePaneInGroup; }
        bind "Alt ]" { GoToNextTab; }
        
        // Safety: Unbind Ctrl+q (Quit) so it passes to Micro/Yazi
        // To quit: Ctrl+o (Session) -> q
        unbind "Ctrl q";
    }
}
