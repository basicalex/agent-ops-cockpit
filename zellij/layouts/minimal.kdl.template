layout {
  tab name="__AOC_TAB_NAME__" focus=true {
    pane split_direction="vertical" {
      pane name="Editor" size="60%" command="bash" {
        args "-lc" "export PATH=\"$HOME/.cargo/bin:$PATH\"; theme_env=\"${XDG_CONFIG_HOME:-$HOME/.config}/aoc/theme.env\"; if [[ -f \"$theme_env\" ]]; then source \"$theme_env\"; fi; export AOC_TAB_SCOPE=\"__AOC_TAB_NAME__\"; cd \"__AOC_PROJECT_ROOT__\" && ${EDITOR:-micro} ."
      }
      pane size="40%" command="bash" {
        args "-lc" "export PATH=\"$HOME/.cargo/bin:$PATH\"; theme_env=\"${XDG_CONFIG_HOME:-$HOME/.config}/aoc/theme.env\"; if [[ -f \"$theme_env\" ]]; then source \"$theme_env\"; fi; export AOC_TAB_SCOPE=\"__AOC_TAB_NAME__\"; cd \"__AOC_PROJECT_ROOT__\" && exec ${AOC_TERMINAL_CMD:-$SHELL}"
      }
    }
    pane size=2 borderless=true {
      plugin location="file:{{HOME}}/.config/zellij/plugins/zjstatus.wasm" {
        format_left   "{mode} #[fg=blue,bold]{session}"
        format_center "{tabs}"
        format_right  "{command_cwd}"
        format_space  ""

        border_enabled  "true"
        border_char     " "
        border_format   "{char}"
        border_position "top"

        hide_frame_for_single_pane "true"

        mode_normal  "#[bg=blue] "
        mode_tmux    "#[bg=orange] "

        tab_normal   "#[fg=black] {name} "
        tab_active   "#[fg=white,bold,italic] {name} "

        command_cwd_command  "pwd | sed 's|.*/||'"
        command_cwd_format   "#[fg=black] {stdout} "
        command_cwd_interval "2"
      }
    }
  }
}
