#!/usr/bin/env bash
set -euo pipefail

TITLE="${1:-Explorer}"
PANE_ID="${2:-${ZELLIJ_PANE_ID:-}}"

if [[ -z "${ZELLIJ:-}" ]]; then
    exit 0
fi

if [[ -n "$PANE_ID" ]]; then
    if ! zellij action rename-pane --pane-id "$PANE_ID" "$TITLE" >/dev/null 2>&1; then
        zellij action rename-pane "$TITLE" >/dev/null 2>&1 || true
    fi
else
    zellij action rename-pane "$TITLE" >/dev/null 2>&1 || true
fi
